---
title: "[BOJ C++] 28683번: 피타! 피타! 피타츄!"
tags:
    - C++
    - 수학
    - 브루트포스 알고리즘
    - 기하학
    - 정수론
    - 피타고라스 정리
date: "2025-08-29"
thumbnail: "/assets/img/thumbnail/baekjoon.png"
---

# 문제  
> [문제 링크](https://www.acmicpc.net/problem/28683)  
<span style="display: inline-flex; align-items: center;">
  <img src="/img/tier/gold5.png" alt="Gold V" style="height:1em; width:auto; margin-right:4px;">
  <span style="color:#f1a900; font-weight:bold;">골드 V</span>
</span>

## 내용
포켓몬스터를 좋아하는 종우는 포켓몬스터를 연구하다가 포켓몬스터가 상당히 수학적이고 코딩과 밀접한 관련이 있는 게임이라는 것을 알게 되었다. 모든 이동은 유클리드 공간에 평행하게 이동하며, 데미지 및 급소 공격 등 수학적인 계산이 상당히 복잡하다. 또한 포켓몬스터 시리즈 역시 처음 발매된 시리즈의 이름부터 레드, 그린, 블루의 RGB이며, 블랙, 화이트 시리즈는 흑백이고, X, Y 시리즈는 미지수의 변수 이름이기도 하다. 심지어 아예 알고리즘의 이름을 따서 포켓몬스터 DP 시리즈도 있을 정도이다!

종우는 포켓몬들에게도 이러한 것이 숨겨져 있으리라 생각하고 피카츄도 사실 “피타츄”에서 유래되었다는 가설을 생각하게 되었다. 그래서 피카츄를 자세히 보던 중, 초기 피카츄의 꼬리가 직각이 많다는 것을 알아내었다! 피타고라스의 정리를 생각하던 종우는 문득 다음과 같은 의문이 들었다.

적어도 한 변의 길이가 \\(\sqrt{n}\\)인 서로 다른 모양의 직각삼각형 중 적어도 두 변의 길이가 정수인 직각삼각형은 몇 개일까? 합동이 아닌 삼각형을 서로 다른 모양의 삼각형이라고 한다.

종우를 도와 문제를 풀어보자.

## 입력
직각삼각형이 포함해야 하는 변의 길이의 제곱을 나타내는 정수 \\(n(1\le n\le10^{12})\\)이 주어진다.

## 출력
조건을 만족하는 직각삼각형의 개수를 출력한다.

만약 그러한 삼각형이 무한히 존재한다면, `-1`을 출력한다.

# 풀이
주어진 변을 포함해 2개 이상의 변의 길이가 정수인 직각삼각형의 수를 구하는 문제이다.

피타고라스의 정리를 간단하게 설명하자면 세 변 a, b, c가 \\(a^2=b^2+c^2\\)이면 직각삼각형이라는 내용이다.
먼저 \\(\sqrt{n}\\)이 정수인지 아닌지 판변한다. 만약 n이 정수라면 다른 두 변 중 하나만 정수더라도 조건을 만족하므로 다른 변은 \\(b=\sqrt{n+a^2}\\)로 무한히 생기기 때문에 -1을 출력하고 코드를 멈춘다.
\\(\sqrt{n}\\)이 정수가 아니라면 가능한 경우를 새야하는데,
먼저 \\(\sqrt{n}\\)이 90도 각을 마주하는 변, 즉 빗변이라면 남은 두 변으로 직각삼각형을 이루며 한 변이 정수여야 한다.
시간을 줄이기 위해 \\(\sqrt{n}\\)까지만 for문을 돌리며 합동인 삼각형을 두번 포함시키지 않기 위해 i가 작은 경우만 새며 i가 정수인 경우만 카운트한다.
\\(\sqrt{n}\\)가 빗변이 아니라면 \\(n=a^2-b^2=(a+b)(a-b)\\)임을 이용한다.

|a|b|a+b|a-b|
|-|-|-|-|
|짝|짝|짝|짝|
|짝|홀|홀|홀|
|홀|짝|홀|홀|
|홀|홀|짝|짝|

이때 정말 신기한 규칙성을 보인다.
a, b가 정수라면 n은 \\((a+b)(a-b)\\)인데, 이는 (짝수x짝수) 또는 (홀수x홀수)라는 것이다!
이를 이용해 \\(\sqrt{n}\\)까지 for문 돌리며 정수로 나누어 떨어지며 모두 짝수이거나 모두 홀수인 수를 카운트해서 더해주면 답을 구할 수 있다.

## 정답 코드
> C++

```
#include <bits/stdc++.h>
using namespace std;

int main() {
    long long n; cin >> n;
    if (sqrtl(n) == (long long)sqrtl(n)) {
        cout << -1;
        return 0;
    }

    long long ans = 0;

    for (long long i=1; i*i<=n; i++) {
        long long j = n - i*i;
        if (sqrtl(j) == (long long)sqrtl(j) && i <= sqrtl(j)) ans++;
    }

    for (long long i=1; i<sqrtl(n)+1; i++) {
        if (n % i == 0) {
            if (i % 2 == 0 && n / i % 2 == 0) ans ++;
            else if (i % 2 == 1 && n / i % 2 == 1) ans ++;
        }
    }


    cout << ans;

    return 0;
}
```